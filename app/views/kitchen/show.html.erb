<body class="kitchen-listing-body" data-js="kitchen-show">
<%= render("shared/menu") %>

<div class="listing-container">
  <section class="listing-head-container clearfix">
    <h2 class="listing-title"><%= @kitchen.title %></h2>
    <ul class="listing-details-list">
      <li><%= @censored_address %></li>
      <li>2 Reviews</li>
    </ul>
  </section>

  <section class="listing-date-container clearfix">
    <%= form_for @reservation, url: kitchen_reservation_index_path(@kitchen), html: {method: :post, class: "listing-dates-form"} do |f| %>
        <%= f.hidden_field :renter_id, value: current_user.id %>
        <%= f.hidden_field :kitchen_id, value: @kitchen.id %>
        <div class="listing-dates-form-field">
          <label class="listing-date-label" for="reserve_date">Date</label>
          <%= f.date_field :reserve_date, id: "reserve_date", class: "listing-start-date" %>
        </div>
        <div class="listing-dates-form-field">
          <label class="listing-date-label" for="start_time">Start Time</label>
          <%= f.time_select :start_time, id: "start_time", minute_step: 30 %>
        </div>
        <div class="listing-dates-form-field">
          <label class="listing-date-label" for="end_time">End Time</label>
          <%= f.time_select :end_time, id: "end_time", minute_step: 30 %>
        </div>
    <% end %>

    <div class="listing-price-container">
          <span class="listing-price">
            <span class="price-math">Â£<%= @kitchen.price %>/hr * 3 hours =</span>
            <span class="listing-total-price">$920</span>
          </span>
      <button form="new_reservation" type="submit" class="transparent-button listing-book-button">Request Kitchen</button>
    </div>
  </section>

  <section class="listing-images-container slider-container" role="region" aria-label="Kitchen Images">
    <button class="prev-button">Previous Slide</button>
    <button class="next-button">Next Slide</button>
    <ul id="listing-images" class="slider-list">
      <!--TODO: remove if else block for production, this is simply for testing kitchens that don't have images-->
      <% if @kitchen.photos.present? %>
          <% @kitchen.photos.each do |photo| %>
              <li class="slider-list-element">
                <%= image_tag photo, class: 'listing-image' %>
              </li>
          <% end %>
      <% else %>
          <li class="slider-list-element">
            <%= image_tag 'sampleKitchens/1.jpg', class: 'listing-image' %>
          </li>
          <li class="slider-list-element">
            <%= image_tag 'sampleKitchens/2.jpg', class: 'listing-image' %>
          </li>
          <li class="slider-list-element">
            <%= image_tag 'sampleKitchens/3.jpeg', class: 'listing-image' %>
          </li>
          <li class="slider-list-element">
            <%= image_tag 'sampleKitchens/4.jpeg', class: 'listing-image' %>
          </li>
      <% end %>
    </ul>
    <ul class="breadcrumb-list"></ul>
  </section>

  <section class="listing-details-container">
    <div class="listing-description">
      <h2 class="listing-details-heading">Description</h2>
      <p>
        <%= @kitchen.description %>
      </p>
    </div>

    <div class="listing-features clearfix">
      <% if @kitchen.washing_station.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Washing Station</h2>
            <ul class="listing-features-list">
              <% @kitchen.washing_station.each do |washing_station| %>
                  <li><%= washing_station %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.food_preparation.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Food Preparation</h2>
            <ul class="listing-features-list">
              <% @kitchen.food_preparation.each do |food_preparation| %>
                  <li><%= food_preparation %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.cookware.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Cookware</h2>
            <ul class="listing-features-list">
              <% @kitchen.cookware.each do |cookware| %>
                  <li><%= cookware %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.storage.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Storage</h2>
            <ul class="listing-features-list">
              <% @kitchen.storage.each do |storage| %>
                  <li><%= storage %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.refrigeration.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Refrigeration</h2>
            <ul class="listing-features-list">
              <% @kitchen.refrigeration.each do |refrigeration| %>
                  <li><%= refrigeration %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.ovens_fryers.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Ovens/Fryers</h2>
            <ul class="listing-features-list">
              <% @kitchen.ovens_fryers.each do |ovens_fryers| %>
                  <li><%= ovens_fryers %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.oven_equipment_and_storage.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Oven Equipment &amp; Storage</h2>
            <ul class="listing-features-list">
              <% @kitchen.oven_equipment_and_storage.each do |oven_equipment_and_storage| %>
                  <li><%= oven_equipment_and_storage %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.baking_and_pastry.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Baking &amp; Pastry</h2>
            <ul class="listing-features-list">
              <% @kitchen.baking_and_pastry.each do |baking_and_pastry| %>
                  <li><%= baking_and_pastry %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.other_equipment.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Other Equipment</h2>
            <ul class="listing-features-list">
              <% @kitchen.other_equipment.each do |other_equipment| %>
                  <li><%= other_equipment %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <% if @kitchen.other_amenities.present? %>
          <div class="listing-inventory-section-container">
            <h2 class="listing-features-heading">Other Amenities</h2>
            <ul class="listing-features-list">
              <% @kitchen.other_amenities.each do |other_amenities| %>
                  <li><%= other_amenities %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

    </div>
  </section>
</div>
</body>
